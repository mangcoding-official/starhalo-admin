import{c as w,j as e,d as f,u as y,r as b,B as T}from"./index-DpFIowpL.js";import{e as N}from"./form-CBubDuqC.js";import{S as D,a as A,b as E,c as I,d as j}from"./select-DVQuR1AC.js";import{B as R}from"./badge-CD_jltcm.js";import{S as k}from"./separator-DTu0TdCe.js";import{T as $,H as B,I as C}from"./dropdown-menu-DRiR6jwX.js";import{X as M}from"./command-CoBbvaYx.js";const z=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],F=w("loader",z);const L=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],J=w("triangle-alert",L);function O({defaultValue:l,onValueChange:o,isPending:m,items:n,placeholder:g,disabled:t,className:c="",isControlled:p=!1}){const i=p?{value:l,onValueChange:o}:{defaultValue:l,onValueChange:o};return e.jsxs(D,{...i,children:[e.jsx(N,{children:e.jsx(A,{disabled:t,className:f(c),children:e.jsx(E,{placeholder:g??"Select"})})}),e.jsx(I,{children:m?e.jsx(j,{disabled:!0,value:"loading",className:"h-14",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(F,{className:"h-5 w-5 animate-spin"}),"  ","Loading..."]})}):n?.map(({label:d,value:u})=>e.jsx(j,{value:u,children:d},u))})]})}function P({table:l,entityName:o,children:m}){const{t:n}=y(),t=l.getFilteredSelectedRowModel().rows.length,c=b.useRef(null),[p,i]=b.useState("");b.useEffect(()=>{if(t>0){const s=`${t} ${o}${t>1?"s":""} selected. Bulk actions toolbar is available.`;i(s);const a=setTimeout(()=>i(""),3e3);return()=>clearTimeout(a)}},[t,o]);const d=()=>{l.resetRowSelection()},u=s=>{const a=c.current?.querySelectorAll("button");if(!a)return;const h=Array.from(a).findIndex(r=>r===document.activeElement);switch(s.key){case"ArrowRight":{s.preventDefault();const r=(h+1)%a.length;a[r]?.focus();break}case"ArrowLeft":{s.preventDefault();const r=h===0?a.length-1:h-1;a[r]?.focus();break}case"Home":s.preventDefault(),a[0]?.focus();break;case"End":s.preventDefault(),a[a.length-1]?.focus();break;case"Escape":{const r=s.target,x=document.activeElement,v=r?.getAttribute("data-slot")==="dropdown-menu-trigger"||x?.getAttribute("data-slot")==="dropdown-menu-trigger"||r?.closest('[data-slot="dropdown-menu-trigger"]')||x?.closest('[data-slot="dropdown-menu-trigger"]'),S=x?.closest('[data-slot="dropdown-menu-content"]')||r?.closest('[data-slot="dropdown-menu-content"]');if(v||S)return;s.preventDefault(),d();break}}};return t===0?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",role:"status",children:p}),e.jsx("div",{ref:c,role:"toolbar","aria-label":`Bulk actions for ${t} selected ${o}${t>1?"s":""}`,"aria-describedby":"bulk-actions-description",tabIndex:-1,onKeyDown:u,className:f("fixed bottom-6 left-1/2 z-50 -translate-x-1/2 rounded-xl","transition-all delay-100 duration-300 ease-out hover:scale-105","focus-visible:ring-ring/50 focus-visible:ring-2 focus-visible:outline-none"),children:e.jsxs("div",{className:f("p-2 shadow-xl","rounded-xl border","bg-background/95 supports-[backdrop-filter]:bg-background/60 backdrop-blur-lg","flex items-center gap-x-2"),children:[e.jsxs($,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(T,{variant:"outline",size:"icon",onClick:d,className:"size-6 rounded-full","aria-label":n("dataTable.bulk.clearSelection"),title:n("dataTable.bulk.clearSelectionWithEscape"),children:[e.jsx(M,{}),e.jsx("span",{className:"sr-only",children:n("dataTable.bulk.clearSelection")})]})}),e.jsx(C,{children:e.jsx("p",{children:n("dataTable.bulk.clearSelectionWithEscape")})})]}),e.jsx(k,{className:"h-5",orientation:"vertical","aria-hidden":"true"}),e.jsxs("div",{className:"flex items-center gap-x-1 text-sm",id:"bulk-actions-description",children:[e.jsx(R,{variant:"default",className:"min-w-8 rounded-lg","aria-label":`${t} selected`,children:t})," ",e.jsxs("span",{className:"hidden sm:inline",children:[o,t>1?"s":""]})," ","selected"]}),e.jsx(k,{className:"h-5",orientation:"vertical","aria-hidden":"true"}),m]})})]})}export{P as D,O as S,J as T};
