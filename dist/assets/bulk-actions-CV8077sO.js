import{c as k,j as e,b as f,r as x,B as y}from"./index-PJSoALqW.js";import{e as S}from"./form-CZtHTW_x.js";import{S as N,a as D,b as T,c as C,d as b}from"./select-BVNy0vOO.js";import{B as A}from"./badge-Wr05xGak.js";import{S as j}from"./separator-FNUfim07.js";import{T as E,H as I,I as R}from"./dropdown-menu-C13Htoa9.js";import{X as $}from"./command-Ckdq_yr7.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],M=k("loader",B);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],G=k("triangle-alert",z);function J({defaultValue:n,onValueChange:o,isPending:d,items:g,placeholder:t,disabled:l,className:u="",isControlled:c=!1}){const i=c?{value:n,onValueChange:o}:{defaultValue:n,onValueChange:o};return e.jsxs(N,{...i,children:[e.jsx(S,{children:e.jsx(D,{disabled:l,className:f(u),children:e.jsx(T,{placeholder:t??"Select"})})}),e.jsx(C,{children:d?e.jsx(b,{disabled:!0,value:"loading",className:"h-14",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(M,{className:"h-5 w-5 animate-spin"}),"  ","Loading..."]})}):g?.map(({label:m,value:s})=>e.jsx(b,{value:s,children:m},s))})]})}function O({table:n,entityName:o,children:d}){const t=n.getFilteredSelectedRowModel().rows.length,l=x.useRef(null),[u,c]=x.useState("");x.useEffect(()=>{if(t>0){const s=`${t} ${o}${t>1?"s":""} selected. Bulk actions toolbar is available.`;c(s);const a=setTimeout(()=>c(""),3e3);return()=>clearTimeout(a)}},[t,o]);const i=()=>{n.resetRowSelection()},m=s=>{const a=l.current?.querySelectorAll("button");if(!a)return;const p=Array.from(a).findIndex(r=>r===document.activeElement);switch(s.key){case"ArrowRight":{s.preventDefault();const r=(p+1)%a.length;a[r]?.focus();break}case"ArrowLeft":{s.preventDefault();const r=p===0?a.length-1:p-1;a[r]?.focus();break}case"Home":s.preventDefault(),a[0]?.focus();break;case"End":s.preventDefault(),a[a.length-1]?.focus();break;case"Escape":{const r=s.target,h=document.activeElement,w=r?.getAttribute("data-slot")==="dropdown-menu-trigger"||h?.getAttribute("data-slot")==="dropdown-menu-trigger"||r?.closest('[data-slot="dropdown-menu-trigger"]')||h?.closest('[data-slot="dropdown-menu-trigger"]'),v=h?.closest('[data-slot="dropdown-menu-content"]')||r?.closest('[data-slot="dropdown-menu-content"]');if(w||v)return;s.preventDefault(),i();break}}};return t===0?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",role:"status",children:u}),e.jsx("div",{ref:l,role:"toolbar","aria-label":`Bulk actions for ${t} selected ${o}${t>1?"s":""}`,"aria-describedby":"bulk-actions-description",tabIndex:-1,onKeyDown:m,className:f("fixed bottom-6 left-1/2 z-50 -translate-x-1/2 rounded-xl","transition-all delay-100 duration-300 ease-out hover:scale-105","focus-visible:ring-ring/50 focus-visible:ring-2 focus-visible:outline-none"),children:e.jsxs("div",{className:f("p-2 shadow-xl","rounded-xl border","bg-background/95 supports-[backdrop-filter]:bg-background/60 backdrop-blur-lg","flex items-center gap-x-2"),children:[e.jsxs(E,{children:[e.jsx(I,{asChild:!0,children:e.jsxs(y,{variant:"outline",size:"icon",onClick:i,className:"size-6 rounded-full","aria-label":"Clear selection",title:"Clear selection (Escape)",children:[e.jsx($,{}),e.jsx("span",{className:"sr-only",children:"Clear selection"})]})}),e.jsx(R,{children:e.jsx("p",{children:"Clear selection (Escape)"})})]}),e.jsx(j,{className:"h-5",orientation:"vertical","aria-hidden":"true"}),e.jsxs("div",{className:"flex items-center gap-x-1 text-sm",id:"bulk-actions-description",children:[e.jsx(A,{variant:"default",className:"min-w-8 rounded-lg","aria-label":`${t} selected`,children:t})," ",e.jsxs("span",{className:"hidden sm:inline",children:[o,t>1?"s":""]})," ","selected"]}),e.jsx(j,{className:"h-5",orientation:"vertical","aria-hidden":"true"}),d]})})]})}export{O as D,J as S,G as T};
